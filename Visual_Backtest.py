from Backtester import Backtester

# Global const
AUTO_CYCLE = True
DATA_CSV = "Data/Data_Raw_OMA_ETH_30Min"
TIMESTEPS = 13322

MODEL_NAME = "DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6"
MODEL_ZIP = "DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_13322"
SCORE = 100

# Create Backtester class
tester = Backtester(DATA_CSV, TIMESTEPS, True, write_data=False)

# Auto cycle through all model zip files
if(AUTO_CYCLE):
    step = 5302156
    zip_file = f"DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_{step}"
    while(True):
        
        # Show graph
        tester.Backtest(MODEL_NAME, zip_file, score=SCORE)
        print(zip_file)
        step += TIMESTEPS
        zip_file = f"DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_{step}"

# Show one graph
else:
    # Show graph
    tester.Backtest(MODEL_NAME, MODEL_ZIP, score=SCORE)


"""
NOTES

Good DQN (should keep)
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_3144110 - Profit 125
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_4316490 - Profit 85
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_4796100 - Profit 130
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_5702030 - Profit 57
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_7247440 - Profit 94
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_9379040 - Profit 80
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_9698780 - Profit 80
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_10391550 - Profit 136
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_12203410 - Profit 127

DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_53288
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_79932
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2744332
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2917518
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2944162
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3303856
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3397110
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3410432
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3623584
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3903346
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4689344
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4862530
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4915818
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4969106
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5128970
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5262190
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5275512
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5328800
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5342122
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5488664
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5515308
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5555274
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5661850
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_5954934
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6114798
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6407882
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6434526
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6474492
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6554424
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6594390
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6621034
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6634356
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6647678
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_6687644


Good PPO (should keep)


Interesting Graphs
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_3677010
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_8792850
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_10071810
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_1_10817870

DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_839286
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_1265590
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2704366
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2784298
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_2850908
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3517008
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3636906
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_3890024
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4289684
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4556124
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4636056
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4702666
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4742632
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4782598
DQN_ETH_sh23_30Min_OMARaw_Mult1_Reward7_norestart_obslevel_score100_6_4795920

"""